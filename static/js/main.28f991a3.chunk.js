(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a(198)},121:function(e,t,a){},125:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(8),o=a.n(c),i=(a(121),a(122),a(204)),s=a(207),l=a(206),u=a(39),f=a.n(u),d=a(53),m=a(63),h=a(54),p=a(55),v=a(64),g=a(56),E=a(65),y=(a(125),a(199)),k={apiKey:"c2785eea2057ed5e73c507ece4189bdc",host:"http://sandbox.cci.drexel.edu:8047/"},x=a(201),w=a(200),S=a(203),C=a(202),b=a(205),O=a(41),j=a(22),T=a(13),_=(a(83),k.apiKey),N=k.host,I=x.a.Search,F=w.a.Meta,D=S.a.Header,H=S.a.Content,J=S.a.Footer,W=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={cravings:[],fav:[],searchedText:""},a.componentDidMount=function(){var e=localStorage.getItem("recipesData"),t=JSON.parse(e);console.log(t),null!=t&&a.setState({cravings:t}),fetch(N+"getFav?userName=pratik",{method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e}).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e){return e.recipe_id});a.setState({fav:t})}).catch(function(e){console.log(e)})},a.componentDidUpdate=function(){var e=JSON.stringify(a.state.cravings);localStorage.setItem("recipes",e)},a.cardSave=function(e){var t=N+"addToFav?cardId="+JSON.stringify(e)+"&&userName=pratik";fetch(t,{method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e}).then(function(t){a.setState({fav:[].concat(Object(m.a)(a.state.fav),[e.recipe_id])})}).catch(function(e){console.log(e)})},a.cardUnsave=function(e){var t=N+"removeFromFav?cardId="+JSON.stringify(e)+"&&userName=pratik";fetch(t,{method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e}).then(function(t){a.setState({fav:a.state.fav.filter(function(t){return t!==e.recipe_id})})}).catch(function(e){console.log(e)})},a.getHeartColor=function(e){return a.state.fav.includes(e)?{color:"red"}:{color:null}},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"getCravings",value:function(){var e=Object(d.a)(f.a.mark(function e(t){var a,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.food2fork.com/api/search?key=".concat(_,"&q=").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,this.setState({cravings:n.recipes}),r=JSON.stringify(n.recipes),localStorage.setItem("recipesData",r);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(S.a,{className:"layout"},r.a.createElement(D,null,r.a.createElement(C.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px",alignContent:"center",alignItems:"center",justifyContent:"center"}},r.a.createElement(C.a.Item,{key:"1"},"Dashboard"),r.a.createElement(C.a.Item,{key:"2"},r.a.createElement(y.a,{to:{pathname:"/fav"}},"Favorite")),r.a.createElement(C.a.Item,{style:{flex:1}},r.a.createElement(I,{style:{verticalAlign:"middle",margin:0,flex:1},placeholder:"Search Your Cravings!",enterButton:"Search",size:"large",onChange:function(t){return e.setState({searchedText:t.target.value})},onSearch:function(){return e.getCravings(e.state.searchedText)}})))),r.a.createElement(H,{style:{padding:"0 50px"}},r.a.createElement(b.a,{style:{margin:"16px 0"}}),r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280}},r.a.createElement("div",{style:{background:"#ECECEC",padding:"30px",flexDirection:"row",flexWrap:"wrap"}},this.state.cravings.length>0&&r.a.createElement(O.a,{style:{overflow:"hidden"}},this.state.cravings.map(function(t,a){return r.a.createElement(j.a,{span:8,key:t.recipe_id},r.a.createElement(w.a,{style:{marginBottom:20,marginLeft:9,marginRight:9,minWidth:310,maxWidth:430},cover:r.a.createElement("img",{alt:"example",src:t.image_url}),actions:[r.a.createElement(T.a,{type:"heart",style:e.getHeartColor(t.recipe_id),theme:e.state.fav.includes(t.recipe_id)?"filled":"outlined",onClick:function(){return e.state.fav.includes(t.recipe_id)?e.cardUnsave(t):e.cardSave(t)}}),r.a.createElement(T.a,{type:"global",onClick:function(){return window.open(t.f2f_url)}})]},r.a.createElement(F,{title:t.title,description:t.publisher})))})),0===this.state.cravings.length&&r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h5",null,"Search for Your Cravings"))))),r.a.createElement(J,{style:{textAlign:"center"}},"Search Your Cravings \xa92019 Created by Pratik Shekhar"))}}]),t}(n.Component),A=w.a.Meta,G=S.a.Header,B=S.a.Content,K=S.a.Footer,U=k.apiKey,M=k.host,Y=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={cravings:[],fav:[]},a.getCravings=function(){var e=Object(d.a)(f.a.mark(function e(t){var n,r,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.elements.recipeName.value,t.preventDefault(),e.next=4,fetch("https://www.food2fork.com/api/search?key=".concat(U,"&q=").concat(n,"&count=20"));case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,a.setState({cravings:c.recipes});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){fetch(M+"getFav?userName=pratik",{method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({cravings:e});var t=e.map(function(e){return e.recipe_id});console.log(t),a.setState({fav:t})}).catch(function(e){console.log(e)})},a.cardSave=function(e){var t=M+"addToFav?cardId="+JSON.stringify(e)+"&&userName=pratik";fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw Error(e.statusText);return e}).then(function(t){a.setState({fav:[].concat(Object(m.a)(a.state.fav),[e.recipe_id])})}).catch(function(e){console.log(e)})},a.cardUnsave=function(e){var t=M+"removeFromFav?cardId="+JSON.stringify(e)+"&&userName=pratik";fetch(t,{method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e}).then(function(t){a.setState({fav:a.state.fav.filter(function(t){return t!==e.recipe_id}),cravings:a.state.cravings.filter(function(t){return t!==e})})}).catch(function(e){console.log(e)})},a.getHeartColor=function(e){return a.state.fav.includes(e)?{color:"red"}:{color:null}},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(S.a,{className:"layout"},r.a.createElement(G,null,r.a.createElement(C.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],style:{lineHeight:"64px"}},r.a.createElement(C.a.Item,{key:"1"},r.a.createElement(y.a,{to:{pathname:"/"}},"Dashboard")),r.a.createElement(C.a.Item,{key:"2"},"Favorite"))),r.a.createElement(B,{style:{padding:"0 50px"}},r.a.createElement(b.a,{style:{margin:"16px 0"}}),r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280}},r.a.createElement("div",{style:{background:"#ECECEC",padding:"30px",flexDirection:"row",flexWrap:"wrap"}},this.state.cravings.length>0&&r.a.createElement(O.a,{style:{overflow:"hidden"}},this.state.cravings.map(function(t,a){return r.a.createElement(j.a,{span:8,key:t.recipe_id},r.a.createElement(w.a,{style:{marginBottom:20,marginLeft:9,marginRight:9,minWidth:310,maxWidth:430},cover:r.a.createElement("img",{alt:"example",src:t.image_url}),actions:[r.a.createElement(T.a,{type:"heart",style:e.getHeartColor(t.recipe_id),theme:e.state.fav.includes(t.recipe_id)?"filled":"outlined",onClick:function(){return e.state.fav.includes(t.recipe_id)?e.cardUnsave(t):e.cardSave(t)}}),r.a.createElement(T.a,{type:"global",onClick:function(){return window.open(t.publisher_url)}})]},r.a.createElement(A,{title:t.title,description:t.publisher})))})),0===this.state.cravings.length&&r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h5",null,"No Favorite Cravings"))))),r.a.createElement(K,{style:{textAlign:"center"}},"Search Your Cravings \xa92019 Created by Pratik Shekhar"))}}]),t}(n.Component),z=function(){return r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(l.a,{path:"/",component:W,exact:!0}),r.a.createElement(l.a,{path:"/fav",component:Y})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[116,1,2]]]);
//# sourceMappingURL=main.28f991a3.chunk.js.map